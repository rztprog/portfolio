import r from"readable-stream";import o from"util";import t from"xtend";import e from"process";var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var s={};var f=e;var i=r.Transform,u=o.inherits,a=t;function DestroyableTransform(r){i.call(this||n,r);(this||n)._destroyed=false}u(DestroyableTransform,i);DestroyableTransform.prototype.destroy=function(r){if(!(this||n)._destroyed){(this||n)._destroyed=true;var o=this||n;f.nextTick((function(){r&&o.emit("error",r);o.emit("close")}))}};function noop(r,o,t){t(null,r)}function through2(r){return function(o,t,e){if("function"==typeof o){e=t;t=o;o={}}"function"!=typeof t&&(t=noop);"function"!=typeof e&&(e=null);return r(o,t,e)}}s=through2((function(r,o,t){var e=new DestroyableTransform(r);e._transform=o;t&&(e._flush=t);return e}));s.ctor=through2((function(r,o,t){function Through2(o){if(!((this||n)instanceof Through2))return new Through2(o);(this||n).options=a(r,o);DestroyableTransform.call(this||n,(this||n).options)}u(Through2,DestroyableTransform);Through2.prototype._transform=o;t&&(Through2.prototype._flush=t);return Through2}));s.obj=through2((function(r,o,t){var e=new DestroyableTransform(a({objectMode:true,highWaterMark:16},r));e._transform=o;t&&(e._flush=t);return e}));var h=s;const l=s.ctor,c=s.obj;export default h;export{l as ctor,c as obj};

