import r from"source-map";import"buffer";import{_ as e}from"../_/a17b940a.js";import"source-list-map";import o from"./RawSource.js";import{_ as t}from"../_/5dbf4ff7.js";import u from"./OriginalSource.js";import c from"./SourceMapSource.js";import a from"./LineToLineMappedSource.js";import i from"./CachedSource.js";import s from"./ConcatSource.js";import n from"./ReplaceSource.js";var p={};var f=e;var S=r.SourceNode;var m=/\n(?=.|\s)/g;function cloneAndPrefix(r,e,o){if("string"===typeof r){var t=r.replace(m,"\n"+e);o.length>0&&(t=o.pop()+t);/\n$/.test(r)&&o.push(e);return t}var u=new S(r.line,r.column,r.source,r.children.map((function(r){return cloneAndPrefix(r,e,o)})),r.name);u.sourceContents=r.sourceContents;return u}class PrefixSource extends f{constructor(r,e){super();this._source=e;this._prefix=r}source(){var r="string"===typeof this._source?this._source:this._source.source();var e=this._prefix;return e+r.replace(m,"\n"+e)}node(r){var e=this._source.node(r);var o=this._prefix;var t=[];var u=new S;e.walkSourceContents((function(r,e){u.setSourceContent(r,e)}));var c=true;e.walk((function(r,e){var u=r.split(/(\n)/);for(var a=0;a<u.length;a+=2){var i=a+1<u.length;var s=u[a]+(i?"\n":"");if(s){c&&t.push(o);t.push(new S(e.line,e.column,e.source,s,e.name));c=i}}}));u.add(t);return u}listMap(r){var e=this._prefix;var o=this._source.listMap(r);return o.mapGeneratedCode((function(r){return e+r.replace(m,"\n"+e)}))}updateHash(r){"string"===typeof this._source?r.update(this._source):this._source.updateHash(r);"string"===typeof this._prefix?r.update(this._prefix):this._prefix.updateHash(r)}}t(PrefixSource.prototype);p=PrefixSource;var h=p;var l={};l.Source=e;l.RawSource=o;l.OriginalSource=u;l.SourceMapSource=c;l.LineToLineMappedSource=a;l.CachedSource=i;l.ConcatSource=s;l.ReplaceSource=n;l.PrefixSource=h;const d=l.Source,v=l.RawSource,_=l.OriginalSource,x=l.SourceMapSource,g=l.LineToLineMappedSource,C=l.CachedSource,j=l.ConcatSource,w=l.ReplaceSource,M=l.PrefixSource;export default l;export{C as CachedSource,j as ConcatSource,g as LineToLineMappedSource,_ as OriginalSource,M as PrefixSource,v as RawSource,w as ReplaceSource,d as Source,x as SourceMapSource};

