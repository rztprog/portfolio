var t={};Object.defineProperty(t,"__esModule",{value:true});t.makeTransition=makeTransition;t.FSM=void 0;function _sliceIterator(t,r){var e=[];var n=true;var i=false;var a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done);n=true){e.push(o.value);if(r&&e.length===r)break}}catch(t){i=true;a=t}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}return e}function _slicedToArray(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return _sliceIterator(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}function _createClass(t,r,e){r&&_defineProperties(t.prototype,r);e&&_defineProperties(t,e);return t}var r=Symbol("STOP");function makeTransition(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.n,i=void 0===n?1:n,a=e.allowedSeparator;return function(e){return a&&e.input[e.ptr]===a?t.test(e.input.substring(e.ptr-1,e.ptr))?[e.currentState,1]:[e.terminatingState,0]:!!t.test(e.input.substring(e.ptr,e.ptr+i))&&[r,i]}}function combineTransitions(t){return function(){var r=false;var e=t[this.currentState]||[];for(var n=0;n<e.length;++n){r=e[n](this);if(false!==r)break}return r||[this.terminatingState,0]}}var e=function(){function FSM(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;_classCallCheck(this,FSM);this.initialState=e;this.terminatingState=n;n!==r&&t[n]||(t[n]=[]);this.transitionFunction=combineTransitions.call(this,t)}_createClass(FSM,[{key:"run",value:function run(t){this.input=t;this.ptr=0;this.currentState=this.initialState;var r="";var e,n;while(this.currentState!==this.terminatingState&&this.ptr<this.input.length){var i=this.transitionFunction();var a=_slicedToArray(i,2);n=a[0];e=a[1];r+=this.input.substring(this.ptr,this.ptr+=e);this.currentState=n}return r}}]);return FSM}();t.FSM=e;const n=t.__esModule;const i=t.makeTransition,a=t.FSM;export default t;export{a as FSM,n as __esModule,i as makeTransition};

